(function(){function va(a){const b=document.createElementNS("http://www.w3.org/2000/svg","svg"),c=document.createElementNS("http://www.w3.org/2000/svg","path");b.appendChild(c);c.setAttribute("d",a);c.setAttribute("fill","none");c.setAttribute("stroke","black");c.setAttribute("stroke-width","2");c.setAttribute("id","path");return c}function wa(a){let {x:b=0,y:c=0,width:d,height:e}=a;b-=.5*d;c-=.5*e;0>d&&(b+=d,d*=-1);0>e&&(c+=e,e*=-1);return{x:b,y:c,width:d,height:e}}function r(a,b,...c){return setTimeout(a,
b,...c)}function E(a=0,b=1){return Math.random()*(b-a)+a}function Ia({update:a,o:b}){function c(){requestAnimationFrame(c);p=performance.now();l=p-g;g=p;if(!(1E3<l)){for(d+=l;d>=e;)a(k),d-=e;t.clearRect(0,0,t.canvas.width,t.canvas.height);b()}}let d=0,e=1E3/60,k=1/60,g,p,l;const t=window.U.context;return{start(){g=performance.now();requestAnimationFrame(c)}}}function w(a,b){Z[a]=Z[a]||[];Z[a].push(b)}function Ja(a=[]){Z=Object.keys(Z).reduce((b,c)=>{a.includes(c)&&(b[c]=Z[c]);return b},{})}function h(a,
...b){(Z[a]||[]).map(c=>c(...b))}function xa(a,b){return(new URL(a,b)).href}function ya(){window.Ca||(window.Ca={Pa:xa,La:O,d:C})}function W(a,b,c){ya();if(C[a])return C[a];C[a]=b(...c)}function la(a,b=null){ya();return new Promise((c,d)=>{let e,k;if(b)return O[a]=b,c(b);if(O[a])return c(O[a]);e=new Image;e.onload=()=>{k=xa(a,window.location.href);O[k]=O[a]=e;c(e)};e.onerror=()=>{d()};e.src=a})}function D(a){return new Ka(a)}function za(a){return new La(a)}function Aa(a=()=>{},b){a.Da&&b.preventDefault();
a(b)}function Ma(a){let b=ea[a.code],c=ma[b];na[b]=!0;Aa(c,a)}function Na(a){let b=ea[a.code],c=oa[b];na[b]=!1;Aa(c,a)}function Oa(){let a;for(a=0;26>a;a++)ea["Key"+String.fromCharCode(a+65)]=String.fromCharCode(a+97);for(a=0;10>a;a++)ea["Digit"+a]=ea["Numpad"+a]=""+a;window.addEventListener("keydown",Ma);window.addEventListener("keyup",Na)}function fa(a){return!![].concat(a).some(b=>na[b])}function ba(a,b,{Ha:c="keydown",preventDefault:d=!0}={}){let e="keydown"==c?ma:oa;b.Da=d;[].concat(a).map(k=>
e[k]=b)}function Ba(a,{Ha:b="keydown"}={}){let c="keydown"==b?ma:oa;[].concat(a).map(d=>delete c[d])}function T(a){return new Pa(a)}function pa(a=1){const b=T({create:qa,s:241});b.Ma=function(c){this.u.forEach(d=>{d.dy*=c})};b.va=function(){this.u.forEach(c=>{c.dy/=2})};b.Qa=a;for(let c=0;240>c;c++){const d=E(1,3)*a,e=Math.floor(d/a*50)+50;b.get({x:Math.floor(E(0,256)),y:c,width:1,height:1,dy:d/4,color:`rgb(${e}, ${e}, ${e})`,update(){this.advance();240<this.y&&(this.y=0)}})}b.F=()=>!0;return b}function Qa(a){return new Ra(a)}
function Ca(a,b){let c=[],d=b.x+b.width/2;var e=b.y+b.height/2;b=a.y<e;e=a.y+a.height>=e;a.x<d&&(b&&c.push(0),e&&c.push(2));a.x+a.width>=d&&(b&&c.push(1),e&&c.push(3));return c}function Sa(a){return new Da(a)}function Ta(a){return new Ua(a)}function ra(a,b){a.F()&&b.forEach(c=>{var d;if(d="enemy"!==a.name||"enemy"!==c.name)if(d=c.F()&&!a.m&&!c.m){d=wa(c);let e=wa(a);d=d.x<e.x+e.width&&d.x+d.width>e.x&&d.y<e.y+e.height&&d.y+d.height>e.y}d&&("ship-bullet"!=a.name||c.m||(a.g=0,c.T(1)),"ship"!=a.name||
"asteroid"!=c.name&&"boss"!=c.name||(a.G(),a.g=0,c.T(5)),"ship"==a.name&&"enemy"==c.name&&(c.G(),c.g=0,a.T(50)),"ship"==a.name&&"enemy-bullet"==c.name&&(c.g=0,a.T(10)),"ship"!=a.name||"powerup"!=c.name||c.na||(c.G(),a.Ia(c)))})}function Va(a){return new Wa(a)}function sa(a){a=ta[a];let b=Math.max(...Object.keys(a[0]),...Object.keys(a[1])),c=a[0][b];c??=a[1][b];return b+=c[1]/1E3*60*c[0]}function Xa(a=0,b=0,c=0,d=!1){const e=ta[b],k=sa(b);if(e[0][a]){const g=e[0][a];h("spawn-enemy",g[0],g[1],{l:g[2],
rotate:g[3],loop:g[4],h:g[5],Ga:g[6],W:g[7],path:va(g[8])})}e[1][a]&&h("spawn-asteroid",...e[1][a]);e[2][a]&&h("spawn-powerup",...e[2][a]);e[3][a]&&h("set-dialog",...e[3][a]);0===e[4].length&&a>=k&&0===c&&h("next-level",b+1>=Ea?0:b+1);0<e[4].length&&d&&0===c&&h("spawn-boss",...e[4])}function Ya(){ba(["esc"],()=>{h("change-scene","menu")});ba(["p"],()=>{h("pause")});ba(["m"],()=>{ca.ka?ca.stop():ca.start()});Ba(["enter"]);ba(["enter"],()=>c.Ka());ca.set("song1");ca.start();const a=new Za({x:120,y:248}),
b=pa(20),c=new Fa(void 0),d=new Fa(void 0);let e=0,k=0,g=3<k?Math.floor(.5*k):0,p=0,l=!0,t=!1,A=sa(e),K=!1,B;const x=T({create:za,s:400}),F=T({create:qa,s:40}),G=T({create:qa,s:400}),u=T({create:Qa,s:10}),L=T({create:Sa,s:50}),H=T({create:Ta,s:4}),R=T({create:Va,s:4}),y=D({text:"SCORE 00000",x:8,y:8}),X=D({x:224,y:8,text:"@@@",color:"red"}),U=D({x:128,y:120,text:"LEVEL 1",align:"center",color:"lightgreen"}),M=D({x:248,y:224,text:"FIRE PODS :00",align:"right",color:"gray",g:0}),I=new P({x:192,y:8,
width:24,height:8,anchor:{x:0,y:0},j(){const f=this.context,m=0<=a.h?a.h/5:0;f.strokeStyle="white";f.lineWidth=2;f.strokeRect(0,0,this.width,this.height);f.fillStyle="green";25>a.h&&(f.fillStyle="red");f.fillRect(2,2,m,this.height-4)}}),V=new P({x:0,y:0,active:!1,K:384,update(){},j(){const f=this.context;f.save();f.beginPath();f.strokeStyle="white";f.lineWidth=3;f.arc(a.x,a.y,this.K,0,2*Math.PI,!0);f.clip();f.stroke()},start(){Q(C.transition);this.K=384;this.active=!0},end(){Q(C.transition);this.active=
!1},update(){this.active&&60<this.K&&(this.K-=2);!this.active&&384>this.K&&(this.K+=1);this.advance()},o(){this.j()}}),v=new P({x:0,y:0,update(){},j(){this.context.restore()},o(){this.j()}});w("hit",()=>{Q(C.hit)});w("explosion",(f,m,q,z,S)=>{Q(C.explosion);for(let N=0;N<q;N++)0==N%2&&x.get({x:f,y:m,dx:E(-1,1)/2,dy:E(-1,1)/2,color:null,g:30}),x.get({x:f,y:m,dx:E(-z/2,z/2),dy:E(-z/2,z/2),color:S,g:30*z})});w("ship-fire",(f,m,q)=>{Q(C.shoot);F.get({name:"ship-bullet",x:f,y:m,width:2,height:4,dy:-4,
dx:q,color:null,l:17,g:100,update(){this.advance();0>this.y&&(this.g=0)}})});w("ship-die",()=>{h("spawn-powerup","fire",128,.6)});w("enemy-fire",(f,m)=>{Q(C.shoot);const q=a.x-4-f,z=a.y-4-m,S=Math.hypot(q,z)/1;G.get({name:"enemy-bullet",x:f+4,y:m+4,dx:q/S,dy:z/S,width:2,height:2,color:"red",g:300})});w("boss-fire",(f,m)=>{Q(C.shoot2);for(let q=0;12>q;q++)G.get({name:"enemy-bullet",x:f,y:m,dx:1*Math.cos(30*q*Math.PI/180),dy:1*Math.sin(30*q*Math.PI/180),width:2,height:2,color:"red",g:400})});w("score",
f=>{a.L+=Math.floor(f+2*g)});w("spawn-boss",(f,m,q,z,S,N,da,Ga,ha,$a)=>{t=!1;f=H.get({l:f,h:m,W:q,rotate:!1,loop:!0,m:!0,aa:"pink",ua:ha,ta:S,path:va(z)});h("spawn-enemy",N,0,{l:da,h:2,W:$a,Ga,parent:f,path:null})});w("spawn-enemy",(f,m,q)=>{f+=g;for(let z=0;z<f;z++){const S=Math.min(Math.max(1,q.l/4),2);r(N=>{L.get({...q,speed:S,sa:N*Math.PI/180,h:q.h+g})},z*m,360/f*z)}});w("spawn-asteroid",(f,m,q,z,S)=>{13===f&&(V.start(),r(()=>V.end(),15E3));let N=0;for(let da=0;da<f;da++)N>q.length-1&&(N=0),r((Ga,
ha)=>{u.get({x:q[ha],y:-8,dx:z[ha],dy:S[ha],h:10+g})},da*m,da,N),N++});w("spawn-powerup",(f,m,q)=>{"shield"===f&&K||R.get({type:f,x:m,y:-8,dy:q})});w("set-dialog",(f,m)=>{f?d.start({B:m,Z:!0}):c.start({B:m,Z:!1})});w("next-level",f=>{t=!1;e=f;k++;p=0;l=!1;A=sa(f);g=3<k?Math.floor(.25*k):0;h("score",100);12===k&&h("level-13");25===k&&h("level-26")});w("boss-die",()=>{h("score",200);e++;e>=Ea&&(e=0);h("next-level",e)});w("game-over",()=>{const f=localStorage.getItem("hiScore")||0;a.L>f&&localStorage.setItem("hiScore",
a.L);h("change-scene","game-over",{L:a.L,Ja:f})});w("start-fire-timer",()=>{B=performance.now()+3E4;M.g=Infinity});w("end-fire-timer",()=>{B=null;M.g=0});w("level-13",()=>{h("set-dialog",!0,["LETS MAKE THIS","INSTERESTING.","NOW WITH ONE LIFE ONLY"]);a.Y=1;a.h=100});w("level-26",()=>{h("set-dialog",!0,["HEY! YOU ARE GOOD AT THIS!","NOW ONE HIT AND YOU DIE!","AND NO SHIELD POWERUPS."]);a.Y=1;a.h=10;K=!0});const J=new ja(void 0),aa=new ja(void 0),ia=new ja(void 0);return new ua({children:[V,b,F,G,a,
L,H,u,R,x,v,c,d,I,U,y,X,M],ya:!1,update(){this.paused=!1;if(d.ja&&d.Z)d.update(),this.paused=!0;else{40>p&&(U.text=`LEVEL ${k+1}`,U.g=100);M.text=`PODS ${B?Math.floor((B-performance.now())/1E3):"00"}`;var f=L.size+u.size;p===A&&(t=!0);Xa(p,e,f,t);0>=a.Y&&!this.ya?(this.ya=!0,r(()=>h("game-over"),1E3)):(F.D().forEach(m=>{J.clear();J.add(m,u.D(),L.D(),H.D());ra(m,J.get(m))}),aa.clear(),aa.add(a,u.D(),L.D(),G.D(),H.D(),R.D()),ra(a,aa.get(a)),ia.clear(),ia.add(u.D()),u.D().forEach(m=>{ra(m,ia.get(m))}),
y.text=`SCORE ${a.L}`,X.text="@@@".slice(0,a.Y),l&&40<p&&140>p&&0===p%20&&b.va(),p++)}}})}function Ha(){ba(["enter"],()=>{h("change-scene","game")});Ba(["esc"]);const a=pa(20),b=D({x:128,y:32,text:"MICRO SHOOTER",align:"center",color:"red",v:2,I:4}),c=D({x:128,y:88,text:"JS13K 2024 EDITION",align:"center",color:"yellow"}),d=D({x:128,y:128,text:"A GAME BY\nMARCO FERNANDES",lineHeight:16,color:"white",align:"center"}),e=D({x:128,y:176,text:"ARROWS OR WASD TO MOVE\nSPACE TO SHOOT",lineHeight:16,align:"center"}),
k=D({x:128,y:224,text:"ENTER TO START",color:"lightgreen",align:"center"}),g=new ua({frame:0,children:[a,k],update(){40<this.frame&&140>this.frame&&0===this.frame%20&&a.va();this.frame++}});r(()=>{g.add(b)},1E3);r(()=>{g.add(c)},2E3);r(()=>{g.add(d)},3E3);r(()=>{g.add(e)},4E3);return g}function ab({L:a=0,Ja:b=localStorage.getItem("hiScore")||0}={}){ba(["enter"],()=>{h("change-scene","menu")});w("explosion",(A,K,B,x,F)=>{Q(C.explosion);for(let G=0;G<B;G++)d.get({x:A,y:K,dx:E(-x/2,x/2),dy:E(-x/2,x/
2),color:F,g:30*x})});const c=pa(1),d=T({create:za,s:400}),e=D({x:128,y:32,text:"GAME OVER",align:"center",color:"red",v:2,I:4}),k=D({x:128,y:80,text:"YOUR SCORE:",color:"white",align:"center"}),g=D({x:128,y:96,text:`${a}`,color:"white",align:"center",v:2,I:2}),p=D({x:128,y:128,text:"NEW HIGH SCORE!",color:"yellow",align:"center"}),l=D({x:128,y:224,text:"ENTER TO CONTINUE",color:"lightgreen",align:"center"}),t=new ua({frame:0,children:[c,l,d]});r(()=>{t.add(e);h("explosion",128,48,100,6,"red")},1E3);
r(()=>{t.add(k)},2E3);r(()=>{t.add(g)},2500);a>b&&r(()=>{t.add(p);h("explosion",128,132,60,4,"yellow")},3E3);return t}let Z={},O={},C={};class P{constructor(a){this.i(a)}i(a={}){Object.assign(this,{name:"",x:0,y:0,width:8,height:8,rotation:0,v:1,I:1,anchor:{x:0,y:0},color:"white",dx:0,dy:0,V:0,S:0,g:Infinity,frame:0,l:0,context:window.U.context,A:[O["spritesheet.png"],8,8],h:20,X:!1,O:a.update,ia:a.o,ra:a.j,...a})}T(a){h("hit");this.h-=a;this.X=!0;0>=this.h&&this.G&&this.G();r(()=>this.X=!1,100)}advance(){this.x+=
this.dx;this.y+=this.dy;this.dx+=this.V;this.dy+=this.S;this.g--;this.frame++}update(){this.O?this.O():this.advance()}o(){if(this.ia)return this.ia();const a=this.context,b=this.x,c=this.y,d=this.anchor,e=this.rotation,k=this.v,g=this.I,p=this.width,l=this.height;a.save();a.translate(b,c);e&&a.rotate(e);k&&g&&a.scale(k,g);a.translate(-p*d.x,-l*d.y);this.j();a.restore()}j(){if(this.ra)return this.ra();const a=this.context,b=this.color,c=this.width,d=this.height;this.X&&(a.save(),a.translate(0,-1));
this.color?(a.fillStyle=b,a.fillRect(0,0,c,d)):a.drawImage(this.A[0],this.l*this.A[1],0,c,d,0,0,c,d);this.X&&(a.globalCompositeOperation="source-atop",a.fillStyle="white",a.fillRect(0,0,c,d),a.globalCompositeOperation="source-over",a.restore())}F(){return 0<this.g}}const qa=a=>new P(a);class ua{constructor(a){this.i(a)}i(a={}){const b=Object.keys(a).reduce((c,d)=>{"function"!==typeof a[d]&&(c[d]=a[d]);return c},{});Object.assign(this,{id:"scene",context:window.U.context,O:a.update,ia:a.o,children:[],
paused:!1,...b})}add(a){this.children.push(a)}pause(){this.paused=!0}resume(){this.paused=!1}update(a){this.paused||(this.children.forEach(b=>{if(!b.F)return b.update(a);b.F()&&b.update(a)}),this.O&&this.O())}o(){this.context.save();this.O&&this.O();this.children.forEach(a=>{if(!a.F)return a.o();a.F()&&a.o()});this.context.restore()}}class Ka extends P{constructor(a={}){super({name:"text",x:0,y:0,text:"",color:"white",align:"left",lineHeight:8,scale:1,A:O["font.png"],...a})}j(){const a=this.text.split("\n"),
b=this.context,c=this.align,d=this.lineHeight,e=this.color;b.save();a.forEach(k=>{b.save();"center"===c&&b.translate(8*-k.length/2,0);"right"===c&&b.translate(8*-k.length,0);for(let p=0;p<k.length;p++){var g=k.charCodeAt(p);let l=0;65<=g&&90>=g?l=g-65:null;48<=g&&57>=g?l=g-22:null;32===g&&(l=-1);46===g&&(l=36);44===g&&(l=37);63===g&&(l=38);33===g&&(l=39);58===g&&(l=40);64===g&&(l=41);-1!==l&&(g=8*p,b.drawImage(this.A,8*l,0,8,8,g,0,8,8),b.globalCompositeOperation="source-atop",b.fillStyle=e||"white",
b.fillRect(g,0,8,8),b.globalCompositeOperation="source-over")}b.restore();b.translate(0,d)});b.restore()}}class La extends P{constructor(a){super({name:"explosion-particle",color:"white",anchor:{x:.5,y:.5},...a})}update(){!this.color&&30>this.g&&(this.v=this.I=this.g/30);this.color&&60>this.g&&(this.v=this.I=this.g/60);this.advance()}j(){!this.color&&this.context.drawImage(this.A[0],128,0,8,8,0,0,8,8);this.color&&(this.context.fillStyle=this.color,this.context.fillRect(0,0,1,1))}}let ma={},oa={},
na={},ea={Enter:"enter",Escape:"esc",Space:"space",ArrowLeft:"arrowleft",ArrowUp:"arrowup",ArrowRight:"arrowright",ArrowDown:"arrowdown"};const Q=(...a)=>{let b=ka.createBufferSource(),c=ka.createBuffer(a.length,a[0].length,44100);a.map((d,e)=>c.getChannelData(e).set(d));b.buffer=c;b.connect(ka.destination);b.start();return b},Y=(a=1,b=.05,c=220,d=0,e=0,k=.1,g=0,p=1,l=0,t=0,A=0,K=0,B=0,x=0,F=0,G=0,u=0,L=1,H=0,R=0)=>{let y=2*Math.PI,X=l*=500*y/194481E4,U=(0<F?1:-1)*y/4;b=c*=(1+2*b*Math.random()-b)*
y/44100;let M=[],I=0,V=0,v=0,J=1,aa=0,ia=0,f=0,m,q;d=99+44100*d;H*=44100;e*=44100;k*=44100;u*=44100;t*=500*y/44100**3;F*=y/44100;A*=y/44100;K*=44100;B=44100*B|0;for(q=d+H+e+k+u|0;v<q;M[v++]=f)++ia%(100*G|0)||(f=g?1<g?2<g?3<g?Math.sin((I%y)**3):Math.max(Math.min(Math.tan(I),1),-1):1-(2*I/y%2+2)%2:1-4*Math.abs(Math.round(I/y)-I/y):Math.sin(I),f=(B?1-R+R*Math.sin(2*Math.PI*v/B):1)*(0<f?1:-1)*Math.abs(f)**p*a*.3*(v<d?v/d:v<d+H?1-(v-d)/H*(1-L):v<d+H+e?L:v<q-u?(q-v-u)/k*L:0),f=u?f/2+(u>v?0:(v<q-u?1:(q-
v)/u)*M[v-u|0]/2):f),m=(c+=l+=t)*Math.sin(V*F-U),I+=m-m*x*(1-1E9*(Math.sin(v)+1)%2),V+=m-m*x*(1-1E9*(Math.sin(v)**2+1)%2),J&&++J>K&&(c+=A,b+=A,J=0),!B||++aa%B||(c=b,l=X,J=J||1);return M},ka=new (window.AudioContext||webkitAudioContext);class Za extends P{i(a){super.i({name:"ship",ea:!0,y:248,m:!1,Fa:!1,h:100,Y:3,L:0,C:0,H:!1,wa:null,anchor:{x:.5,y:.5},l:1,...a});this.Aa()}Ia(a){Q(C.powerup);"shield"===a.type&&(this.h+=50,100<this.h&&(this.h=100));"fire"===a.type&&(this.C++,4<this.C&&(this.C=4),clearTimeout(this.wa),
h("start-fire-timer"),this.wa=r(()=>{h("end-fire-timer");4===this.C&&(this.C=3)},3E4))}ba(){this.H||(this.H=!0,h("ship-fire",this.x-1,this.y-8,E(-.3,.3)),0<this.C&&h("ship-fire",this.x-1,this.y-8,E(-.5,.5)),1<this.C&&r(()=>{h("ship-fire",this.x-1,this.y-8,E(-.3,.3));h("ship-fire",this.x-1,this.y-8,E(-.5,.5))},100),2<this.C&&r(()=>{h("ship-fire",this.x-1,this.y-8,-2);h("ship-fire",this.x-1,this.y-8,2)},400),3<this.C&&r(()=>{h("ship-fire",this.x-16,this.y-4,E(-.1,.1));h("ship-fire",this.x+14,this.y-
4,E(-.1,.1))},200),r(()=>{this.H=!1},200))}G(){h("ship-die");h("explosion",this.x,this.y-4,60,4,"white");this.Fa=!0;this.g=0;this.Y--;this.m=!0;this.V=this.dx=0;this.x=128;r(()=>{this.Aa()},1E3)}Aa(){this.ea=this.m=!0;this.g=Infinity;this.y=248;this.frame=0;this.h=100;this.C=3;r(()=>{this.m=this.ea=!1},1E3)}update(){this.S=this.V=0;this.dx*=.96;this.dy*=.96;this.l=1;fa(["d","arrowright"])&&5>this.dx&&(this.V=.2,this.l=2);fa(["a","arrowleft"])&&-5<this.dx&&(this.V=-.2,this.l=0);this.ea||(fa(["s","arrowdown"])&&
5>this.dy&&(this.S=.2),fa(["w","arrowup"])&&-5<this.dy&&(this.S=-.2));!this.H&&fa("space")&&this.ba();this.ea&&(this.S=-.03,this.v=this.I=Math.min(Math.max(1,2-this.frame/60),2));0>=this.h&&this.G();this.advance();4>this.x&&(this.x=4,this.dx=0);252<this.x&&(this.x=252,this.dx=0);4>this.y&&(this.y=4,this.dy=0);236<this.y&&(this.y=236,this.dy=0)}j(){const a=this.context,b=this.width,c=this.height;a.drawImage(this.A[0],this.A[1]*this.l,0,b,c,0,0,b,c);let d=1;0>this.S&&(d=5>this.frame%10?2:3);a.fillStyle=
"#FFaa33";a.fillRect(3,7,2,d);a.fillStyle="#FF6633";a.fillRect(5>this.frame%10?3:4,7+d,1,d);4===this.C&&(a.fillStyle="#FFF",a.fillRect(18,4,2,2),a.fillRect(-12,4,2,2));this.X&&(a.globalCompositeOperation="source-atop",a.fillStyle="red",a.fillRect(0,0,b,c),a.globalCompositeOperation="source-over")}}class Pa{constructor({create:a,s:b=1024}={}){let c;if(!(a&&(c=a({id:""}))&&c.update&&c.i&&c.F&&c.o))throw Error("Must provide create() function which returns an object with init(), update(), render(), and isAlive() functions");
this.qa=a;this.u=[a({id:""})];this.size=0;this.s=b}get(a={}){if(this.size==this.u.length){if(this.size==this.s)return;for(var b=0;b<this.size&&this.u.length<this.s;b++)this.u.push(this.qa())}b=this.u[this.size];this.size++;b.i(a);return b}D(){return this.u.slice(0,this.size)}clear(){this.size=this.u.length=0;this.u.push(this.qa())}update(a){let b,c=!1;for(let d=this.size;d--;)b=this.u[d],b.update(a),b.F()||(c=!0,this.size--);c&&this.u.sort((d,e)=>e.F()-d.F())}o(){for(let a=this.size;a--;)this.u[a].o()}}
class Ra extends P{i(a){super.i({name:"asteroid",A:[O["spritesheet16.png"],16,16],l:2,width:16,height:16,color:null,anchor:{x:.5,y:.5},h:10,...a})}G(){h("explosion",this.x,this.y,50,4,"white");h("score",10);this.g=0}update(){this.rotation=this.frame/(10/this.dy);this.advance();0>this.x||264<this.x||248<this.y&&(this.g=0)}}class ja{constructor({ca:a=3,da:b=25,J:c}={}){this.ca=a;this.da=b;a=window.U.context.canvas;this.J=c||{x:0,y:0,width:a.width,height:a.height};this.$=!1;this.ha=0;this.R=[];this.N=
[]}clear(){this.N.map(a=>{a.clear()});this.$=!1;this.R.length=0}get(a){let b=new Set;for(;this.N.length&&this.$;)return Ca(a,this.J).map(c=>{this.N[c].get(a).map(d=>b.add(d))}),Array.from(b);return this.R.filter(c=>c!==a)}add(...a){a.flat().map(b=>{this.$?this.pa(b):(this.R.push(b),this.R.length>this.da&&this.ha<this.ca&&(this.Ea(),this.R.map(c=>this.pa(c)),this.R.length=0))})}pa(a){Ca(a,this.J).map(b=>{this.N[b].add(a)})}Ea(){var a;this.$=!0;if(!this.N.length){var b=this.J.width/2|0;var c=this.J.height/
2|0;for(a=0;4>a;a++)this.N[a]=new ja({J:{x:this.J.x+(1==a%2?b:0),y:this.J.y+(2<=a?c:0),width:b,height:c},ca:this.ca,da:this.da}),this.N[a].ha=this.ha+1}}}class Da extends P{i(a){a={name:"enemy",l:3,color:null,anchor:{x:.5,y:.5},h:1,frame:0,loop:!0,xa:!0,aa:"white",W:200,speed:1,...a};super.i(a);this.path&&(this.g=Math.floor(a.path.getTotalLength()/this.speed));this.loop&&(this.g=Infinity)}ba(){h("enemy-fire",this.x-4,this.y-4,this.rotation,3)}G(){h("explosion",this.x,this.y,30,3,this.aa);h("score",
10);this.g=0}update(){this.rotation=180*Math.PI/180;if(this.path){const a=this.path.getPointAtLength(this.frame*this.speed),b=this.path.getPointAtLength(this.frame*this.speed+1);this.x=Math.floor(a.x);this.y=Math.floor(a.y);this.rotate&&(this.rotation=90*Math.PI/180+Math.atan2(b.y-a.y,b.x-a.x))}else this.x=this.parent.x+Math.cos(this.frame/this.parent.ua+this.sa)*this.parent.ta,this.y=this.parent.y+Math.sin(this.frame/this.parent.ua+this.sa)*this.parent.ta;this.xa&&(this.v=this.I=Math.min(Math.max(0,
(this.frame*this.speed+1)/100),1));!this.loop&&100>this.g&&(this.v=this.I=Math.min(Math.max(0,this.g/100),1));1>this.v&&(this.m=!0);1<=this.v&&(this.m=!1);1==this.v&&0===this.frame%this.W&&this.ba();this.path&&this.frame*this.speed>=this.path.getTotalLength()&&this.loop&&(this.frame=0,this.xa=!1);this.frame++;this.g--}}class Ua extends Da{i(a){super.i({name:"boss",A:[O["spritesheet16.png"],16,16],l:0,width:16,height:16,color:null,h:10,aa:"white",W:200,H:!1,loop:!1,m:!0,la:!1,ga:[],...a});this.za=
this.h}T(a){super.T(a);this.la=!0;r(()=>{this.la=!1},1E3)}ba(){this.H=!0;this.m=!1;this.ga[0]=r(()=>{h("boss-fire",this.x,this.y,this.rotation,3)},400);this.ga[1]=r(()=>{h("boss-fire",this.x,this.y,this.rotation,3)},800);this.ga[2]=r(()=>{h("boss-fire",this.x,this.y,this.rotation,3)},1200);r(()=>{this.H=!1;this.m=!0},1600)}G(){h("explosion",this.x,this.y,30,3,this.aa);h("score",10);this.g=0;this.ga.map(a=>clearTimeout(a));h("boss-die")}update(){!this.H&&super.update();!this.H&&(this.m=!0)}j(){super.j();
if(this.la){var a=this.context,b=20*this.h/this.za;a.save();a.translate(this.width/2,this.height/2);a.rotate(-this.rotation);a.fillStyle="white";a.fillRect(-12,-16,24,6);a.fillStyle="black";a.fillRect(-11,-15,22,4);a.fillStyle="green";this.h<this.za/4&&(a.fillStyle="red");a.fillRect(-10,-14,b,2);a.restore()}}}class Fa extends P{i(a){a={name:"dialog",x:-16,y:200,Ba:[10,11,12,13,14],text:D({text:"",x:16,y:8,align:"left"}),M:0,B:[],P:0,fa:0,frame:0,anchor:{x:0,y:0},oa:!1,ja:!1,ma:!1,Z:!0,...a};super.i(a)}Ka(){0==
this.B.length||this.P>this.B.length||(this.M=this.B[this.P].length)}start(a){this.ma=!1;setTimeout(()=>{this.ja=!0;this.B=["",...a.B];this.frame=0;this.Z=a.Z},1E3);this.dx=2}stop(){this.ma=!0;this.text.text="        ";this.ja=!1;setTimeout(()=>{this.B=[];this.frame=this.M=this.P=0},1E3);this.dx=-2}update(){8<this.x&&(this.dx=0,this.x=8);-16>this.y&&(this.dx=0,this.x=-16);if(0!=this.B.length){this.oa=!1;var a=this.B[this.P]+"      ";" "!==a[this.M]&&(this.oa=!0);0==this.frame%5&&(this.M++," "!==a[this.M]&&
Q(C.typing));this.P<this.B.length&&(this.text.text=a.slice(0,this.M));this.frame++;this.M>=a.length&&(this.P++,this.M=this.frame=0);this.P>=this.B.length&&!this.ma&&this.stop();this.oa&&0==this.frame%5&&this.fa++;this.fa>=this.Ba.length&&(this.fa=0);super.update()}}j(){const a=this.context,b=this.A;a.fillStyle="white";a.fillRect(-2,-2,12,12);a.drawImage(b[0],8*this.Ba[this.fa],0,8,8,0,0,8,8);a.translate(16,0);this.text.j()}}class Wa extends P{i(a){super.i({name:"powerup",type:"fire",width:16,height:16,
na:!1,anchor:{x:.5,y:.5},A:[O["font.png"],8,8],...a})}G(){this.na=!0;this.g=10;this.frame=0}update(){248<this.y&&(this.g=0);super.update()}j(){const a=this.context,b=this.type,c=this.na,d=this.frame;let e,k;"shield"===b&&(e="yellow",k=18);"fire"===b&&(e="lightblue",k=15);a.strokeStyle=e;a.lineWidth=2;10>d%20&&!c&&a.strokeRect(0,0,16,16);a.fillStyle=e;a.fillRect(3,3,10,10);a.drawImage(this.A[0],8*k,0,8,8,4,4,8,8);c&&(a.globalAlpha=1-this.frame/10,a.strokeRect(-this.frame,-this.frame,16+2*this.frame,
16+2*this.frame),a.globalAlpha=1)}}var n={Oa:"M127 120V43c0-77 99 8 99 77 0 70-35 102-99 102S22 181 22 120s32-84 84-84 85 32 85 84c0 53-28 62-64 62-35 0-68-18-68-62 0-43 25-47 47-47 21 0 48 24 48 47 0 24-7 28-27 28s0-14 0-28Z",Sa:"M287 13-21 61l293 46-293 31 293 48-290 52",Ta:"m-21 13 308 48-293 46 293 31-293 48 291 52",Ua:"m20 7 50 48-48 46 48 31-48 48 48 52",Va:"m237 7-50 48 48 46-48 31 48 48-48 52",Na:"M121 123S-30 40 24 24C78 6 168 7 233 24 298 40-40 214 24 227c63 12 159 12 209 0 51-12-112-104-112-104Z",
w:"M223-33v238c0 42-61 41-61 0V41c0-44-64-44-64 0v164c0 43-71 33-71 0V-27",Ra:"M27-33v238c0 42 61 41 61 0V41c0-44 64-44 64 0v164c0 43 71 33 71 0V-27"};const ta=[[{500:[3,400,4,!0,!0,1,0,200,n.sandClock],1E3:[3,400,5,!0,!0,2,0,200,n.sandClock]},{},{1500:["fire",128,.6]},{100:[!1,["CAPTAIN","    ","WE DETECTED SOME ENEMY SCOUTS","BETTER DESTROY THEM"]],1E3:[!1,["TOO LATE!","THEY ARE COMING","WITH A FULL FLEET","    ","GOOD LUCK!"]]},[]],[{1E3:[3,1E3,3,!0,!1,1,0,200,n.zigzag],2E3:[5,1500,6,!1,!1,1,0,
130,n.zigzagLeft]},{},{2500:["fire",128,.6],550:["shield",140,.3]},{100:[!1,["TOO LATE!","THEY ARE COMING","WITH A FULL FLEET","    ","GOOD LUCK!"]]},[0,10,50,"M127 120V43c0-77 99 8 99 77 0 70-35 102-99 102S22 181 22 120s32-84 84-84 85 32 85 84c0 53-28 62-64 62-35 0-68-18-68-62 0-43 25-47 47-47 21 0 48 24 48 47 0 24-7 28-27 28s0-14 0-28Z",30,8,9,1,20,150]],[{},{1E3:[13,1E3,[20,200,120,180,60,220,180,40,120,60],[0,-.1,0,-.1,.1,-.1,0,.1,0,.1],[1,.5,.7,.5,.9,.5,1,.8,.4,.7]]},{1500:["fire",128,.6],2500:["shield",
140,.3],3500:["fire",128,.6]},{100:[!1,"13 ASTEROIDS DETECTED;      ;OOOPSS...;HOPE THIS DOES NOT TRIGGER;YOUR TRISKAIDEKAPHOBIA...;         ".split(";")]},[0,10,100,"M127 120V43c0-77 99 8 99 77 0 70-35 102-99 102S22 181 22 120s32-84 84-84 85 32 85 84c0 53-28 62-64 62-35 0-68-18-68-62 0-43 25-47 47-47 21 0 48 24 48 47 0 24-7 28-27 28s0-14 0-28Z",40,4,9,1,60,50]],[{800:[5,400,9,!0,!1,4,0,400,n.zigzag],810:[5,400,9,!0,!1,4,0,400,n.zigzagLeft],2E3:[5,400,7,!0,!1,4,0,400,n.w],2010:[5,400,7,!0,!1,4,0,
400,n.wReversed]},{},{1500:["fire",128,.6]},{100:[!1,["THAT CONDITION STILL","AFFECTING YOUR","VISION, HUH!?","         "]]},[0,10,250,n.sandClock,30,8,8,0,10,50]],[{2500:[13,200,5,!0,!0,1,0,50,n.spiral]},{1E3:[13,1E3,[20,200,120,180,60,220,180,40,120,60],[0,-.1,0,-.1,.1,-.1,0,.1,0,.1],[1,.5,.7,.5,.9,.5,1,.8,.4,.7]]},{1500:["fire",128,.6]},{100:[!1,"HERE COME MORE ASTEROIDS;12 PLUS 1, HEHE!;         ;ALSO 13 SHIPS;        ;OH MAN! NOT AGAIN!".split(";")]},[]],[{500:[10,400,3,!1,!1,2,0,200,n.zzLeft],
800:[10,400,4,!1,!1,2,0,200,n.zzRight],1500:[10,400,3,!1,!1,2,0,200,n.zzLeft],1800:[10,400,4,!1,!1,2,0,200,n.zzRight],2500:[5,1E3,6,!1,!1,1,0,40,n.spiral]},{},{1500:["fire",128,.6]},{100:[!1,["HMMM... ZIGZAGERS?","    "]]},[]],[{500:[3,400,4,!0,!0,1,0,200,n.sandClock],1E3:[3,400,5,!0,!0,2,0,200,n.sandClock]},{},{1500:["fire",128,.6]},{100:[!1,["CAPTAIN","    ","WE DETECTED SOME ENEMY SCOUTS","BETTER DESTROY THEM"]],1E3:[!1,["TOO LATE!","THEY ARE COMING","WITH A FULL FLEET","    ","GOOD LUCK!"]]},
[]],[{1E3:[3,1E3,3,!0,!1,1,0,200,n.zigzag],2E3:[5,1500,6,!1,!1,1,0,130,n.zigzagLeft]},{},{2500:["fire",128,.6],550:["shield",140,.3]},{100:[!1,["TOO LATE!","THEY ARE COMING","WITH A FULL FLEET","    ","GOOD LUCK!"]]},[0,10,50,"M127 120V43c0-77 99 8 99 77 0 70-35 102-99 102S22 181 22 120s32-84 84-84 85 32 85 84c0 53-28 62-64 62-35 0-68-18-68-62 0-43 25-47 47-47 21 0 48 24 48 47 0 24-7 28-27 28s0-14 0-28Z",30,8,9,1,20,150]],[{},{1E3:[13,1E3,[20,200,120,180,60,220,180,40,120,60],[0,-.1,0,-.1,.1,-.1,
0,.1,0,.1],[1,.5,.7,.5,.9,.5,1,.8,.4,.7]]},{1500:["fire",128,.6],2500:["shield",140,.3],3500:["fire",128,.6]},{100:[!1,"13 ASTEROIDS DETECTED;      ;OOOPSS...;HOPE THIS DOES NOT TRIGGER;YOUR TRISKAIDEKAPHOBIA...;         ".split(";")]},[0,10,100,"M127 120V43c0-77 99 8 99 77 0 70-35 102-99 102S22 181 22 120s32-84 84-84 85 32 85 84c0 53-28 62-64 62-35 0-68-18-68-62 0-43 25-47 47-47 21 0 48 24 48 47 0 24-7 28-27 28s0-14 0-28Z",40,4,9,1,60,50]],[{800:[5,400,9,!0,!1,4,0,400,n.zigzag],810:[5,400,9,!0,!1,
4,0,400,n.zigzagLeft],2E3:[5,400,7,!0,!1,4,0,400,n.w],2010:[5,400,7,!0,!1,4,0,400,n.wReversed]},{},{1500:["fire",128,.6]},{100:[!1,["THAT CONDITION STILL","AFFECTING YOUR","VISION, HUH!?","         "]]},[0,10,250,n.sandClock,30,8,8,0,10,50]],[{2500:[13,200,5,!0,!0,1,0,50,n.spiral]},{1E3:[13,1E3,[20,200,120,180,60,220,180,40,120,60],[0,-.1,0,-.1,.1,-.1,0,.1,0,.1],[1,.5,.7,.5,.9,.5,1,.8,.4,.7]]},{1500:["fire",128,.6]},{100:[!1,"HERE COME MORE ASTEROIDS;12 PLUS 1, HEHE!;         ;ALSO 13 SHIPS;        ;OH MAN! NOT AGAIN!".split(";")]},
[]],[{500:[10,400,3,!1,!1,2,0,200,n.zzLeft],800:[10,400,4,!1,!1,2,0,200,n.zzRight],1500:[10,400,3,!1,!1,2,0,200,n.zzLeft],1800:[10,400,4,!1,!1,2,0,200,n.zzRight],2500:[5,1E3,6,!1,!1,1,0,40,n.spiral]},{},{1500:["fire",128,.6]},{100:[!1,["HMMM... ZIGZAGERS?","    "]]},[]]],Ea=ta.length,ca={node:null,ka:!1,buffer:null,async set(a){const b=!!this.node;b&&await this.stop();this.buffer=C[a];b&&await this.start()},async start(){this.node||(this.node=Q(...this.buffer),this.node.loop=!0,await ka.resume(),
this.ka=!0)},async stop(){this.node&&(this.node.stop(),this.node.disconnect(),this.node=null,this.ka=!1)}};var bb=(a,b,c,d=125)=>{let e,k,g,p,l,t,A,K,B,x,F,G,u,L,H=0,R=[],y=[],X=[],U=0,M=0,I=1,V={},v=44100/d*60>>2;for(;I;U++)R=[I=K=G=0],c.map((J,aa)=>{A=b[J][U]||[0,0,0];I|=!!b[J][U];L=G+(b[J][0].length-2-!K)*v;u=aa==c.length-1;k=2;for(p=G;k<A.length+u;K=++k){l=A[k];B=k==A.length+u-1&&u||x!=(A[0]||0)|l|0;for(g=0;g<v&&K;g++>v-99&&B?F+=(1>F)/99:0)t=(1-F)*R[H++]/2||0,y[p]=(y[p]||0)-t*M+t,X[p]=(X[p++]||
0)+t*M+t;l&&(F=l%1,M=A[1]||0,(l|=0)&&(R=V[[x=A[H=0]||0,l]]=V[[x,l]]||(e=[...a[x]],e[2]*=2**((l-12)/12),0<l?Y(...e):[])))}G=L});return[y,X]},cb=[[[,0,77,,,.7,2,.41,,,,,,,,.06],[,0,43,.01,,.3,2,,,,,,,,,.02,.01],[,0,170,.003,,.008,,.97,-35,53,,,,,,.1],[.8,0,270,,,.12,3,1.65,-2,,,,,4.5,,.02],[,0,86,,,,,.7,,,,.5,,6.7,1,.05],[,0,41,,.05,.4,2,0,,,9,.01,,,,.08,.02],[,0,2200,,,.04,3,2,,,800,.02,,4.8,,.01,.1],[.3,0,16,,,.3,3]],[[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,
33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33],[3,1,22,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,24,,,,,,,,,,,,,,,,,,,,,,,,22,,22,,22,,,,],[5,-1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[,1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,
21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33],[3,1,24,,,,,,,,27,,,,,,,,,,,,,,,,27,,,,24,,,,24,,,,,,,,27,,,,,,,,,,,,,,,,24,,24,,24,,,,],[5,-1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[,1,21,,,,,,,,,,,,,,,,,,,,,,,,,,,,24,,,,23,,,,,,,,,,,,,,,,,,,,,,,,24,,23,,21,,,,],[6,1,,,34,34,34,,,,,,34,34,,,,,34,,,,34,34,,,,,34,,,,34,,,,34,34,34,,,,,,34,,,,,,34,34,,,34,34,,,,,,,,,34,34],[4,1,,,,,,,24,,,,,,24,,24,,,,24,,,,24,,,,,,,,,,,,,,,,24,,,,,,24,,24,
,,,24,,,,24,,,,,,,,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,23,23,35,23,23,36,23,23,35,23,23,36,23,23,35,35,23,23,35,23,23,35,23,23,36,23,23,35,23,23,36,36],[5,-1,21,,,19,,,21,,,,,,,,,,21,,,19,,,17,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,],[3,1,24,,,24,,,24,,,,,,,,,,24,,,24,,,24,,,,24.75,24.5,24.26,24.01,24.01,24.01,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25],[4,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,24.75,24.5,24.26,24.01,24.01,24.01,24.01,
24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24],[7,-1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,23,,21,23,,35,,23,,21,23,,35,,35,,23,,21,23,,35,,21,23,,35,,21,23,,,],[6,1,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,34,36,34,,33,34,34,36,31,36,34,,31,34,32,,33,36,34,,31,34,34,36,33,36,33,,31,,,]],[[1,-1,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,21,21,33,21,21,33,21,21,33,21,21,33,21,21,33,33,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29],
[4,1,24,24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24],[7,-1,21,,19,21,,33,,21,,19,21,,33,,33,,21,,19,21,,33,,21,,19,21,,33,,33,,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29],[2,1,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,,,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,34,34,,34,,,],[6,1,,,36,,,,,,36,,
36,,,,,,,,36,,,,,,36,,36,,,,,,,,36,,,,,,,,,,,,,,,,36,,,,,,36,,36,,,,,,],[3,1,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25,,,,,25,,,,,25,,,25,,,,,,,,25,,,,,,,,25,25,25,25]],[[1,-1,14,14,26,14,14,26,14,14,26,14,14,26,14,14,26,26,14,14,26,14,14,26,14,14,26,14,14,26,14,14,26,26,17,17,29,17,17,29,17,17,29,17,17,29,17,17,29,29,19,19,31,19,19,31,19,19,31,19,19,31,19,19,31,31],[4,1,24,24,,24,24,,24,24,24,24,,24,24,,24,,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,24,24,24,24,,24,24,,36,,24,24,,
24,24,,24,24,24,24,,24,24,,24,24],[7,-1,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,14,,14,14,26,14,14,26,17,,17,17,29,17,17,29,17,,17,17,29,17,17,29,19,,19,19,31,19,19,31,19,,19,19,31,19,19,31],[2,1,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,,,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,36,36,,36,,,],[3,1,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25,,,,,25,,,,,,,,25,,,,,,,,25,,,,,,,,25,25,25,25],[6,1,,,,,,,,,,,,,,,,,,,,,,,
,,,,,,,,,,,,34,,,,,,34,,34,,,,,,,,34,,,,,,34,,34,,,,,,]]],[0,1,1,2,3,4,4]],db=[,,45,.03,.21,.6,4,.9,2,-3,,,,.2,,.9,,.45,.26],eb=[.9,,413,,.05,.01,1,3.8,-3,-13.4,,,,,,,.11,.65,.07,,237],fb=[1.5,,261,.01,.02,.08,1,1.5,-.5,,,-.5,,,,,.9,.05],gb=[1.6,,291,.01,.21,.35,,2.2,,,-136,.09,.03,,,.2,.2,.7,.28],hb=[,,468,.05,.62,.7,,.3,,,300,.05,.02,,,,.32,,.6],ib=[.8,,112,.03,.1,.2,3,3.6,18,-9,,,,,,,.03,.83,.12],jb=[2.3,,330,,.06,.17,2,3.7,,,,,.05,.4,2,.5,.13,.89,.05,.17];n=function(a){window.U=window.U||{};return window.U.context=
a}(document.getElementById("c").getContext("2d"));n.imageSmoothingEnabled=!1;n.setTransform(1,0,0,1,0,0);(async()=>{Oa();await W("song1",bb,cb);await W("explosion",Y,db);await W("shoot",Y,eb);await W("shoot2",Y,ib);await W("typing",Y,fb);await W("powerup",Y,gb);await W("hit",Y,jb);await W("transition",Y,hb);await la("font.png");await la("spritesheet.png");await la("spritesheet16.png");w("change-scene",(b,c)=>{Ja(["change-scene"]);ca.stop();switch(b){case "game":a=Ya();break;case "menu":a=Ha();break;
case "game-over":console.log("game-over",c),a=ab(c)}});let a=Ha();Ia({update(b){a.update(b)},o(){a.o()}}).start()})()})();
